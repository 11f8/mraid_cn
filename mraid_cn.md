（美国）互动广告局（简称IAB）

移动富媒体广告接口规范（MRAID）2.0版本

发布于2012.9.27

最后修订时间2013.4.16


#	贡献者
IAB MRAID的工作小组包括来自以下公司的代表：
<pre>
24/7 Real Media, Inc. 					Medialets
AccuWeather.com 						MediaMind
AdMarvel								Microsoft Advertising
AdMeld									Mixpo
ADTECH									Mocean Mobile
Adobe Systems Inc. 						NBC Universal Digital Media
AOL										New York Times Co.
CBS Interactive							Nexage
Celtra									Pandora
Crisp Media								PointRoll
Dow Jones & Company						Rhythm NewMedia
ESPN									Spongecell
FreeWheel								Sprout
Goldspot Media							TargetSpot
Google									Time Inc.
Greystripe								Turner Broadcasting System, Inc.
IDG										Univision
inMobi									The Weather Channel
Innovid									Yahoo!, Inc.
Jumptap
</pre>

#	感谢
IAB感谢ORMMA.org API项目贡献者，给本文档提供了一个起点。ORMMA.org是一批行业思想领袖自2010年春季以来一起开发和测试的一个完整灵活的移动富媒体广告API。在IAB推出MRAID项目以前，ORMMA的贡献者包括：
<pre>
Adam Schuetz, AdMarvel					Philippe Laporte, Goldspot Media
Dennis Doughty, Jumptap					Robert Hedin, The Weather Channel
Jon Badenell, The Weather Channel		Todd Pasternack, Pointroll
Nathan Carver, Crisp Media				Wook Chung, Google
Neal Karasic, Jumptap					Xavier Facon, Crisp Media
</pre>

#	关于MRAID
(美国）互动广告局（简称IAB），其成员和其它重要贡献者联合创建这份文档，对于移动富媒体广告来说，它是一份标准的接口规范。MRAID项目的目的是为了解决出版商的移动应用、不同的广告服务器和不同的富媒体平台之间已知的互操作性问题。

##	IAB联系方式

IAB移动营销中心高级总监：Joe Laszlo，mobile@iab.net

#	内容提要
在过去的几年中，由于在移动应用和移动网络上的富媒体展示广告已经变得越来越流行，各种创新型企业都面临创建一个移动广告投放生态系统的挑战。内容出版商和广告主的移动富媒体广告投放的创新导致了许多令人兴奋的可能性，但是它同样也导致了效率低下，经常延缓和阻碍最优的商业化内容。

简化移动应用广告创意设计者的流程会大大增加代理商将移动纳入其媒体购买清单的意愿。不管是哪个移动设备平台，应用程序或技术用于显示媒体，广告主想要看到让人惊叹的创意，批准它并且决定购买指定的移动媒体库存。

# 	规范
下列术语用于整个MRAID规范。

**广告容器：**广告容器是一个显示广告创意的区域。它是一个提供屏幕区域的容器，我们称之为MRAID容器。它基于web视图，用于广告显示。SDK通常都会提供广告容器，但不是必须。应用程序可能包含来自一个SDK的多个广告容器。

**关闭广告区：**在广告创意中有一块可以轻触的区域叫做关闭广告区，它会引发广告回到默认状态（在缩放式广告中）或者从屏幕中整个移除（在插播式广告中）

**关闭指引：**关闭指引对于用户来说是一个视觉提醒，告诉他们关闭广告区的位置。

**控制器（Controller）：**控制器是一段提供给广告设计者访问MRAID方法和事件的JavaScript代码。广告创意使用控制器执行和广告容器之间的交互，也可以间接的调用应用程序和设备。

**设备独立像素（DIP）：**通过MRAID API，在控制器和创意之间传递的所有长度值都是设备独立像素。

DIP是对物理屏幕像素的一个抽象，旨在简化应用和内容开发跨设备。

使用DIP意味着，例如：视网膜显示屏的iPhone和老的iPhone将返回相同的尺寸，尽管它们之间有着不同的物理像素值。1 DIP大约相当于160分之一英寸（在大约160 DPI设备上的1设备像素）.

在iOS中，这些对应到“点”；Android中，对应到“设备独立像素”。

注意：只有视口比例为1.0时1 DIP才等于1 CSS像素。为了对应CSS像素和DIP，创意应使用如下公式：

`css像素 * 视口比例 = DIP`

**内嵌式广告：**伴随着其它内容一起出现在屏幕上的一种广告，例如网页上或者app内的一个banner。

**插播式广告：**一种显示在内容上方的全屏广告——也被叫做“障碍物”或者“覆盖物”。这类广告必须驳回用户返回到内容的请求（译者注：也就是不允许主动关闭广告）。一些插播式广告可以出现在游戏关卡之间，或者一段视频剪辑的前后，再或者其他动态内容中。（在许多杂志类app中，滑动页面之间的广告在MRAID规范下被认为是内嵌式广告。）

**物理像素：**设备屏幕的实际像素。例如，视网膜显示屏的iPhone的物理像素为960x640。MRAID API长度值总是使用DIP（上文定义的）来计算，而不是使用物理像素。

**SDK：**软件开发工具包。一段可重复使用的代码（类库），集成在出版商app中以激活广告容器。一个SDK，其本身不是一个可视化组件。

**Web View：**基于HTML显示广告创意的视图。Web View是用来执行渲染使用HTML和JavaScript编写的广告。

![规范](./images/a.jpg)

#	支持MRAID的基本须知
本节详细介绍兼容MRAID的应用程序内广告投放SDK的要求。

预计实现将分为两部分。第一部分为富媒体广告在app中的显示定义一个本地容器，第二部分为广告创建者定义一个JavaScript控制器交互用。本地容器封装一个支持HTML和JavaScript的Web View，比如iOS中的UIWebView，控制器充当一个桥梁可以将本地功能集成到基于HTML的广告中。具体实现或许有所不同。

在规划时，关键的设计考虑因素：

* 在应用程序发布者和广告卖家允许的情况下，以一致的方式访问设备的本机功能（方向、位置、加速度等。）
* 行业标准的广告开发（HTML和JavaScript）
* 渐进式的复杂度（简单的事情很简单，复杂的事情都是可能的，但更难）

##	_技术受众_
规范文档天生是技术性的，但这并不妨碍我们创新。这份文档主要是针对出版商或SDK供应商，并解决广告设计者的需求。
>###	本地应用开发者
在这份规范中对于本地应用开发者没有任何要求。他们应该遵循他们的SDK开发者提供的用于集成广告到他们应用程序的说明。
>###	SDK开发者
SDK架构者有这些建议以外的责任（参考“超出范围”）。正如前面提到的，预计SDK开发者将提供两个接口用于实现这些建议：通过SDK给本地开发者一个控制器用于集成，给广告设计者一个控制器直接使用。
>本文档概述了广告设计者所需要的控制器要求。作者意图对于已有的SDK，这些概念可以用一个表层来管理。
>###	广告设计者
本文档对于广告设计者来说，除了使用标准的web，没有有关创意的要求。使用了本规范中方法的广告设计者，可以提供给消费者丰富的媒体体验，并且同时跨平台和出版商。

对于广告设计者来说，认识到调用本机设备必须是异步的（设计使然），这一点非常重要。对于大多数web开发者，这种情况类似于AJAX编程。

##	_视觉窗口和默认的容器设置_
创意设计者应该意识到需要了解——他们正在运行的程序可能会覆盖默认的web视图设置。他们应该查询MRAID控制器，就像他们为，了解环境查询一个网页那样做一样。这些设置包括容器的高、宽、比例、用户是否可以改变容器的比例。

在Web视图中，虽然MRAID并不建立任何新的参数或控制，也建议检查和校准参数，除非创意的作者说：我们不妨把他们设置的不同于默认容器设置。

##	_超出范围_
每条MRAID规范提供给开发者唯一的功能集。这份文档为互操作概述了一个最小的功能集，那些可能是SDK中的一部分的功能，它并不定义，例如：

* 从广告服务器，广告网络或本地资源检索广告
* 报告
* IDE集成
* 安全/隐私
* 国际化
* 错误报告
* 日志
* 结算和付款
* 广告尺寸和广告行为（MRAID不定义广告尺寸或者用户和广告互动过程中，广告如何移动和改变）
* 为了缓冲或者离线使用下载资源到本地文件系统

当然，对于广告模块，SDK开发者必须实现在特定区域渲染web内容的功能。虽然一部分开发者可能不得不开发额外的功能，但是对于大部分环境来说，要支持这些规范，这个功能作为一个web view组件已经可用。

作者的意图是：供应商（SDK提供者）不限于只开发API中描述的功能。他们应该不断创新、不断推出区别于市场上已存在的新功能。

一个只使用SDK特定功能、抛开MRAID功能的广告，从MRAID跨平台的意义上来讲，已不能算作一个标准MRAID广告。

##	_标准Web技术_
对于互操作性，只有web兼容的语言应被用于标记和脚本语言。本文假定使用HTML/JavaScript/CSS。广告设计者应能够在浏览器上开发和测试广告模块。如果广告设计者使用的标记、样式、方法只兼容一种浏览器（例如WebKit CSS3），那么这个广告会有针对性（只针对WebKit CSS3）的兼容设备。

当新的web标准统一提供时，广告设计者们被鼓励使用它们。这些或许包括像短信和电话这样的草案，以及一些广泛实施，但尚未完成的HTML5规范。设计师需要了解，在这些情况下，预期的协议和实现，可能不是真正的跨所有设备和平台。

##	_广告服务器要求_
用于传输富媒体广告的服务器应当支持使用JavaScript的HTML广告。